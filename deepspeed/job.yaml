name: deepspeed-train

containerfile: ./Dockerfile

compute_config:
  head_node:
    instance_type: m5.2xlarge

  worker_nodes:
    - instance_type: m5d.2xlarge
      min_nodes: 0
      max_nodes: 10

    - instance_type: g6e.24xlarge
      min_nodes: 0
      max_nodes: 10

working_dir: .

entrypoint: python main.py